version: 2
sources: []
models: []
metrics:
- name: segment__daily_number_of_sessions
  label: Segment Daily Number of Sessions
  model: ref('segment_web_sessions')
  description: Number of sessions daily
  type: count_distinct
  sql: session_id
  timestamp: session_start_tstamp
  time_grains: [day]
  filters: []
  dimensions: []

- name: segment__daily_number_of_sessions_by_page_path
  label: Segment Daily Number of Sessions By Page Path
  model: ref('segment_web_sessions')
  description: Number of sessions daily segmented by page url
  type: count_distinct
  sql: session_id
  timestamp: session_start_tstamp
  time_grains: [day]
  filters: []
  dimensions: [last_page_url_path]

- name: segment__daily_number_of_sessions_by_device_category
  label: Segment Daily Number of Sessions By Device Category
  model: ref('segment_web_sessions')
  description: Number of sessions daily segmented by device category
  type: count_distinct
  sql: session_id
  timestamp: session_start_tstamp
  time_grains: [day]
  filters: []
  dimensions: [device_category]

- name: segment__daily_number_of_sessions_by_referrer_source
  label: Segment Daily Number of Sessions By Referrer Source
  model: ref('segment_web_sessions')
  description: Number of sessions daily segmented by the website that brings the traffic
  type: count_distinct
  sql: session_id
  timestamp: session_start_tstamp
  time_grains: [day]
  filters: []
  dimensions: [referrer_source]

- name: segment__daily_unique_users
  label: Segment Daily Unique Users
  model: ref('segment__users')
  description: Daily unique users recorded across your website and mobile applications. This is based on the Segment Identify API
  type: count_distinct
  sql: user_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: []

- name: segment__daily_unique_users_by_country
  label: Segment Daily Unique Users Segmented By Country
  model: ref('segment__users')
  description: Daily unique users recorded across your website and mobile applications segmented by user's country derived from their location. This is based on the Segment Identify API
  type: count_distinct
  sql: user_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [context_location_country]

- name: segment__daily_unique_users_by_country_and_city
  label: Segment Daily Unique Users Segmented By Country and City
  model: ref('segment__users')
  description: Daily unique users recorded across your website and mobile applications segmented by user's country & city derived from their location. This is based on the Segment Identify API
  type: count_distinct
  sql: user_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [context_location_country,context_location_city]

## to do string operation on url -- cut the url after /
- name: segment__daily_page_views
  label: Segment Daily Page Views
  model: ref('segment__pages')
  description: Daily number of page views for your website
  type: count
  sql: message_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: []

- name: segment__daily_page_views_by_page_path
  label: Segment Daily Page Views Segmented By Page Path
  model: ref('segment__pages')
  description: Daily number of page views for your website segmented by page path
  type: count
  sql: message_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [context_page_path]

- name: segment__monthly_event_count_by_event_type
  label: Segment Monthly Event Count Segmented By Event Type
  model: ref('segment__tracks')
  description: Monthly count of events segmented by event type based on Segment's Track API
  type: count
  sql: event
  timestamp: received_at
  time_grains: [month]
  filters: []
  dimensions: [event]

- name: segment__daily_event_count_by_event_type
  label: Segment Daily Event Count Segmented By Event Type
  model: ref('segment__tracks')
  description: Daily count of events segmented by event type based on Segment's Track API
  type: count
  sql: event
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [event]

- name: segment__monthly_unique_users
  label: Segment Monthly Unique Users
  model: ref('segment__users')
  description: Monthly unique users recorded across your website and mobile applications. This is based on the Segment Identify API
  type: count_distinct
  sql: user_id
  timestamp: received_at
  time_grains: [month]
  filters: []
  dimensions: []

- name: segment__monthly_average_session_duration_seconds
  label: Segment Monthly Average Session Duration in Seconds
  model: ref('segment_web_sessions')
  description: Monthly average session duration in seconds. Sessionization is done on top of data from Segment's Page API
  type: average
  sql: duration_in_s
  timestamp: session_start_tstamp
  time_grains: [month]
  filters: []
  dimensions: []

- name: segment__monthly_average_session_duration_seconds_by_device_category
  label: Segment Monthly Average Session Duration in Seconds Segmented By Device Category
  model: ref('segment_web_sessions')
  description: Monthly average session duration in seconds segmented by device category. Sessionization is done on top of data from Segment's Page API
  type: average
  sql: duration_in_s
  timestamp: session_start_tstamp
  time_grains: [month]
  filters: []
  dimensions: [device_category]

- name: segment__monthly_average_session_duration_seconds_by_referrer_source
  label: Segment Monthly Average Session Duration in Seconds Segmented By Referrer Source
  model: ref('segment_web_sessions')
  description: Monthly average session duration in seconds segmented by source of the traffic. Sessionization is done on top of data from Segment's Page API
  type: average
  sql: duration_in_s
  timestamp: session_start_tstamp
  time_grains: [month]
  filters: []
  dimensions: [referrer_source]

- name: segment__daily_unique_visitors
  label: Segment Daily Unique Visitors
  model: ref('segment__pages')
  description: Daily number of unique visitors visiting your website. Visitors include anonymous users too
  type: count_distinct
  sql: anonymous_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: []


- name: segment__daily_unique_visitors_by_country
  label: Segment Daily Unique Visitors Segmented By Country
  model: ref('segment__pages')
  description: Daily number of unique visitors visiting your website segmented by user's country derived from their location. Visitors include anonymous users too
  type: count_distinct
  sql: anonymous_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [context_location_country]

- name: segment__daily_unique_visitors_by_country_and_city
  label: Segment Daily Unique Visitors By Segmented Country and City
  model: ref('segment__pages')
  description: Daily number of unique visitors visiting your website segmented by user's country & city derived from their location. Visitors include anonymous users too
  type: count_distinct
  sql: anonymous_id
  timestamp: received_at
  time_grains: [day]
  filters: []
  dimensions: [context_location_country,context_location_city]
